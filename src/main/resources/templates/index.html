<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>量子科技 (QCOOL) - 新手互动平台 - 打开量子科技，发现更好的源码！</title>
		<meta name="keywords" content="" />
		<meta name="description" content="" />
		<meta name="renderer" content="webkit|ie-comp|ie-stand">
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
		<link rel="stylesheet" th:href="@{/static/css/main.min.css}">
		<link rel="stylesheet" th:href="@{/static/css/homePage.css}">
		<link rel="stylesheet" th:href="@{/static/css/slider.css}">
		<link th:href="@{/static/css/style.css}" rel="stylesheet" type="text/css">
		<link rel="stylesheet" type="text/css" th:href="@{/static/css/index.css}" />
		<link rel="stylesheet" type="text/css" th:href="@{/static/layuiadmin/layui/css/layui.css}" />
		<script th:src="@{/static/js/jquery-1.10.2.min.js}"></script>
		<script th:src="@{/static/js/jquery-migrate-1.2.1.min.js}"></script>
		<script th:src="@{/static/js/bootstrap.min.js}"></script>
		<script type="text/javascript" async="" th:src="@{/static/js/vds.js}"></script>
		<script th:src="@{/static/layuiadmin/layui/layui.all.js}"></script>
		<!-- 这个js是公共的 -->
		<script th:src="@{/static/js/common.js}" type="text/javascript" charset="utf-8"></script>
		<style>
			.work-list-box.hide > .card-box {
			  display: none;
			}
		</style>
	<style>
		.album-card-box .card-info, .card-box .card-info{
			height: auto;
			padding-bottom:30px;
		}
	
		.album-card-box .card-info .card-info-item span.statistics-view:before, .card-box .card-info .card-info-item span.statistics-view:before{
			background: url("[[@{/static/img/card-liulan.svg}]]") no-repeat 0 1px   !important;
			background-size: 16px auto !important;    display: inline-block;
			width: 16px;
			height: 16px;
			vertical-align: top;
			margin-right: 5px;
		}
		.album-card-box .card-info .card-info-item span.statistics-comment:before, .card-box .card-info .card-info-item span.statistics-comment:before{
			background: url("[[@{/static/img/card-pinglun.svg}]]")  no-repeat 0 1px  !important;
			background-size: 16px auto !important;    display: inline-block;
			width: 16px;
			height: 16px;
			vertical-align: top;
			margin-right: 5px;
		}
	
	
		.statistics-tuijian:before{
			/*background: url("img/card-zan.svg") no-repeat  !important;*/
			background-size: 16px auto !important;    display: inline-block;
			width: 16px;
			height: 16px;
			vertical-align: top;
			margin-right: 5px;
		}
		.jtpang{
			margin:0;
			padding-left:5px;
			padding-right:5px;
			padding-top:17px;
			line-height:20px;}
		.jtpang span{
			display: inline-block;
			padding-left:5px;}
		.card-info-type{
			padding-top:6px;}
	</style>
	</head>
	<body>
		<div id="body">
				<header id="zHeader">
				</header>
			<input type="hidden" th:value="${tuijianCategoryName}" id="tuijianCategoryName">
			<input type="hidden" th:value="${timeCategoryName}" id="timeCategoryName">
			<input type="hidden" th:value="${tuijianreecom}" id="tuijianreecom">
			<input type="hidden" th:value="${timereecom}" id="timereecom">
			<main class="main-wrapper">
				<div class="slider-adv-box">
					<div class="slider-adv">
						<div class="slider layui-carousel" id="test1">
							<!-- 轮播图 -->
							<div carousel-item>
								<div><img src="http://placehold.it/1380x350/09f768/ffffff" width="100%" height="100%"></div>
								<div><img src="http://placehold.it/1380x350/3333cc/ffffff" width="100%" height="100%"></div>
								<div><img src="http://placehold.it/1380x350/b822dd/ffffff" width="100%" height="100%"></div>
								<div><img src="http://placehold.it/1380x350/f709f7/ffffff" width="100%" height="100%"></div>
								<div><img src="http://placehold.it/1380x350/aa55aa/ffffff" width="100%" height="100%"></div>
							</div>
						</div>
						<div class="clear" style="height: 20px"></div>
						<!-- 广告位 -->
						<div class="advtop">
							<ul class="">
								<li id="testac1" z-st="home_ad_01">
									<!-- Revive Adserver Asynchronous JS Tag - Generated with Revive Adserver v5.0.2 -->
									<img src="http://placehold.it/420x336/ff3333/ffffff" style="width: 260px;height: 208px;">
								</li>
								<li id="testac2" z-st="home_ad_02">
									<!-- Revive Adserver Asynchronous JS Tag - Generated with Revive Adserver v5.0.2 -->
									<img src="http://placehold.it/420x336/ff3333/ffffff" style="width: 260px;height: 208px;">
								</li>
								<li id="testac3" z-st="home_ad_03">
									<!-- Revive Adserver Asynchronous JS Tag - Generated with Revive Adserver v5.0.2 -->
									<img src="http://placehold.it/420x336/ff3333/ffffff" style="width: 260px;height: 208px;">
								</li>
								<li id="testac4" z-st="home_ad_05">
									<img src="http://placehold.it/420x336/ff3333/ffffff" style="width: 260px;height: 208px;">
								</li>
								<li id="testac5" z-st="home_ad_05">
									<img src="http://placehold.it/420x336/ff3333/ffffff" style="width: 260px;height: 208px;">
								</li>
							</ul>
						</div>
					</div>
				</div>
				<div class="subnav-content-wrap" id="tab_anchor" style="height: 56px;">
					<div class="subnav-wrap" style="left: 0px;">
						<div class="top-hull">
							<div class="subnav-contentbox">
								<div class="tab-nav-container">
									<ul class="subnav-content text-center" id="IndexNav">
										<li class="current"><a href="javascript:;" class="title" z-st="home_tab_home" id="tuijianNav">首页推荐</a></li>
										<li><a href="javascript:;" class="title" target="_blank" z-st="home_tab_lastest" id="newNav">最新发布</a></li>
									</ul>
								</div>
							</div>
						</div>
					</div>
				</div>
				<!-- 首页推荐 -->
				<div class="all-work-list" id="tuijianNavBox">
					<div class="work-list-box">
						<section class="container">
							<div class="card-box" th:each="commodity,stat:${tuijian}">
								<div class="card-img">
									<a th:href="@{/page/commodityDetail(id=${commodity.id})}" class="card-img-hover" title="#" target="_blank" z-st="home_main_card_cover">
										<img th:src="${commodity.getImgurl()}" title="" alt="" th:title="${commodity.getComname()}">
									</a>
								</div>
								<div class="card-info">
									<p class="card-info-title">
										<a href="#" th:title="${commodity.getComname()}" th:text="${commodity.getComname()}" class="title-content" target="_blank" z-st="home_main_card_title" style="width: 178px;"></a>
									</p>
									<p class="card-info-type" title="#" th:text="${commodity.getCategory()}">
									</p>
									<p class="card-info-item">
										<span class="statistics-view" th:title="${commodity.getBrowsenum()}" th:text="${commodity.getBrowsenum()}"></span>
									</p>
								</div>
								<div class="card-item">
									<span class="user-avatar showMemberCard">
										<a href="#" th:title="${commodity.getComUser()}" target="_blank" z-st="home_main_card_user">

											<img th:src="${commodity.getUserImg()}" th:srcset="${commodity.getUserImg()}" width="30" height="30" alt=""/>
											<span th:text="${commodity.getComUser()}"></span>
										</a>
									</span>
									<span class="time" title="发布时间" th:text="${#dates.format(commodity.insertTime, 'yyyy-MM-dd')}">5天前</span>
								</div>
							</div>
						</section>
					</div>
					<div class="pageturning ">
						<div class="clear layui-row" style="margin-left: 41%;">
							<div name="" class="laypage_main laypageskin_default" id="demopage">
							</div>
						</div>
					</div>
				</div>
<!--				</div>-->
				<!-- 首页推荐完 -->
				<!-- 最新发布 -->
				<div class="all-work-list layui-hide" id="newNavBox">
					<div class="work-list-box">
						<section class="containerTime">

							<div class="card-box" th:each="time,stat:${times}">
								<div class="card-img">
									<a href="" class="card-img-hover" title="#" target="_blank" z-st="home_main_card_cover">
										<img th:src="${time.getImgurl()}" title="" alt="" th:title="${time.getComname()}">
									</a>
								</div>
								<div class="card-info">
									<p class="card-info-title">
										<a href="#" th:title="${time.getComname()}" th:text="${time.getComname()}" class="title-content" target="_blank" z-st="home_main_card_title" style="width: 178px;"></a>
									</p>
									<p class="card-info-type" title="#" th:text="${time.getCategory()}">
									</p>
									<p class="card-info-item">
										<span class="statistics-view" th:title="${time.getBrowsenum()}" th:text="${time.getBrowsenum()}"></span>
									</p>
								</div>
								<div class="card-item">
									<span class="user-avatar showMemberCard">
										<a href="#" th:title="${time.getComUser()}" target="_blank" z-st="home_main_card_user">

											<img th:src="${time.getUserImg()}" th:srcset="${time.getUserImg()}" width="30" height="30" alt=""/>
											<span th:text="${time.getComUser()}"></span>
										</a>
									</span>
									<span class="time" title="发布时间" th:text="${#dates.format(time.insertTime, 'yyyy-MM-dd')}">5天前</span>
								</div>
							</div>
						</section>
					</div>
					<div class="pageturning ">
						<div class="clear layui-row" style="margin-left: 41%;">
							<div name="" class="laypage_main laypageskin_default" id="demopage1">
							</div>
						</div>
					</div>
				</div>
				<!-- 最新发布完 -->

			</main>
			<footer id="footer">

			</footer>
		</div>
		<script>
			layui.config({
				base: '[[@{/static/js/}]]' //设定扩展的 layui 模块的所在目录，一般用于外部模块扩展
			});
			layui.use(['carousel', 'layer', 'laypage','common'], function() {
				var carousel = layui.carousel;
				var laypage = layui.laypage,
						layer = layui.layer,$=layui.$;
				//建造实例
				carousel.render({
					elem: '#test1',
					height: '350px',
					width: '100%' //设置容器宽度
					,
					arrow: 'always' //始终显示箭头
					,
					anim: 'default' //切换动画方式
					,
					indicator: 'none'
				});
				
				laypage.render({
					elem: 'demopage'
					, count: '[[${tuijiantotal}]]' //数据总数，从服务端得到
					, limit: '[[${tuijianpageSize}]]'
					, curr:  '[[${tuijianpageNum}]]'
					// , layout: ['count', 'prev', 'page', 'next', 'limit', 'refresh', 'skip']
					,theme: '#ffe300'
					,prev: '<'
					,next: '>'
					, jump: function (obj, first) {
						//obj包含了当前分页的所有参数，比如：
						// console.log(obj.curr); //得到当前页，以便向服务端请求对应页的数据。
						// console.log(obj.limit); //得到每页显示的条数
						//首次不执行
						if (!first) {
							//do something
							var tuijianreecom = $('#tuijianreecom').val();
							var href = '/?reecom=1&state=0';
							href += '&pageNum=' + obj.curr;
							href += '&pageSize=' + obj.limit;
							console.log(href)
							location.href = href;
						}

					}
				});
				laypage.render({
					elem: 'demopage1'
					, count: '[[${timetotal}]]' //数据总数，从服务端得到
					, limit: '[[${timepageSize1}]]'
					, curr: '[[${timepageNum1}]]'
					// , layout: ['count', 'prev', 'page', 'next', 'limit', 'refresh', 'skip']
					,theme: '#ffe300'
					,prev: '<'
					,next: '>'
					, jump: function (obj, first) {
						//obj包含了当前分页的所有参数，比如：
						// console.log(obj.curr); //得到当前页，以便向服务端请求对应页的数据。
						// console.log(obj.limit); //得到每页显示的条数

						//首次不执行
						if (!first) {
							//do something
							var timereecom = $('#timereecom').val();
							var href = '/?reecom=0&state=1';
							href += '&pageNum1=' + obj.curr;
							href += '&pageSize1=' + obj.limit;
							console.log(href)
							location.href = href;
						}

					}
				});

				var state='[[${state}]]';
				if (state=="" || state==0){
					//等于0显示首页推荐
					// $("#tuijianNav").parent().children().removeClass("current");
					// $("#tuijianNav").parent("li").addClass("current");
					// $("#tuijianNavBox").removeClass("layui-hide");
					// $("#newNav").addClass("layui-hide");
				}else {
					$("#newNav").parent().parent().children().removeClass("current");
					$("#newNav").parent("li").addClass("current");
					$("#newNavBox").removeClass("layui-hide");
					$("#tuijianNavBox").addClass("layui-hide");
				}
				$("#IndexNav li").click(function(){
					$(this).parent().children().removeClass("current");
					$(this).addClass("current");
					var box=$(this).children().attr("id")+'Box';
					$(".all-work-list").addClass("layui-hide");
					$("#"+box).removeClass("layui-hide");
				})

			});
			function showView(pageNum,pageSize,elemBox,state,reecom) {
				$.get('[[@{/}]]',{state:state,pageNum:pageNum,pageSize:pageSize,reecom:reecom},function (data) {
					var list=data.list;
					for (var i=0;i<list.length;i++){
						var html="<div class=\"card-box\">\n" +
								"\t\t\t\t\t\t\t\t<div class=\"card-img\">\n" +
								"\t\t\t\t\t\t\t\t\t<a href=\"\" class=\"card-img-hover\" title=\"#\" target=\"_blank\" z-st=\"home_main_card_cover\">\n" +
								"\t\t\t\t\t\t\t\t\t\t<img th:src=\"${time.getImgurl()}\" title=\"\" alt=\"\" th:title=\"${time.getComname()}\">\n" +
								"\t\t\t\t\t\t\t\t\t</a>\n" +
								"\t\t\t\t\t\t\t\t</div>\n" +
								"\t\t\t\t\t\t\t\t<div class=\"card-info\">\n" +
								"\t\t\t\t\t\t\t\t\t<p class=\"card-info-title\">\n" +
								"\t\t\t\t\t\t\t\t\t\t<a href=\"#\" th:title=\"${time.getComname()}\" th:text=\"${time.getComname()}\" class=\"title-content\" target=\"_blank\" z-st=\"home_main_card_title\" style=\"width: 178px;\"></a>\n" +
								"\t\t\t\t\t\t\t\t\t</p>\n" +
								"\t\t\t\t\t\t\t\t\t<p class=\"card-info-type\" title=\"#\" th:text=\"${time.getCategory()}\">\n" +
								"\t\t\t\t\t\t\t\t\t</p>\n" +
								"\t\t\t\t\t\t\t\t\t<p class=\"card-info-item\">\n" +
								"\t\t\t\t\t\t\t\t\t\t<span class=\"statistics-view\" th:title=\"${time.getBrowsenum()}\" th:text=\"${time.getBrowsenum()}\"></span>\n" +
								"\t\t\t\t\t\t\t\t\t</p>\n" +
								"\t\t\t\t\t\t\t\t</div>\n" +
								"\t\t\t\t\t\t\t\t<div class=\"card-item\">\n" +
								"\t\t\t\t\t\t\t\t\t<span class=\"user-avatar showMemberCard\">\n" +
								"\t\t\t\t\t\t\t\t\t\t<a href=\"#\" th:title=\"${time.getComUser()}\" target=\"_blank\" z-st=\"home_main_card_user\">\n" +
								"\n" +
								"\t\t\t\t\t\t\t\t\t\t\t<img th:src=\"${time.getUserImg()}\" th:srcset=\"${time.getUserImg()}\" width=\"30\" height=\"30\" alt=\"\"/>\n" +
								"\t\t\t\t\t\t\t\t\t\t\t<span th:text=\"${time.getComUser()}\"></span>\n" +
								"\t\t\t\t\t\t\t\t\t\t</a>\n" +
								"\t\t\t\t\t\t\t\t\t</span>\n" +
								"\t\t\t\t\t\t\t\t\t<span class=\"time\" title=\"发布时间\" th:text=\"${#dates.format(time.insertTime, 'yyyy-MM-dd')}\">5天前</span>\n" +
								"\t\t\t\t\t\t\t\t</div>\n" +
								"\t\t\t\t\t\t\t</div>";
						$("."+elemBox).html(html);
					}
				})
			}
		</script>
	</body>
	<html>
